<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Our Gallery</title>

<style>
body {
  margin:0; padding:0;
  background: linear-gradient(135deg, #ffe6e6, #ffd6e0, #fff0f5);
  color: #444;
  overflow:hidden;
  font-family: sans-serif;
  user-select: none;
}
.container { 
  position:relative; 
  width:100vw; 
  height:100vh; 
  overflow:hidden; 
  cursor:grab; 
}
.canvas { position:absolute; will-change: transform; }
.item {
  position:absolute;
  overflow:hidden;
  background:#111;
  border-radius:8px;
}

header {
  text-align: center;
  padding-top: 2px;
}

header h1 {
  font-size: 2.5rem;
  color: #c62828;
  letter-spacing: 2px;
  text-shadow: 1px 1px 4px rgba(198, 40, 40, 0.2);
} 

.item img {
  width:100%; height:100%;
  object-fit: cover;     /* üî• show full image */
  object-position: center; 
  pointer-events:none;
  transition: transform 0.3s ease;
}
.item:hover img { transform:scale(1.05); }

/* ‚ù§Ô∏è Floating clickable hearts */
.heart {
  position: absolute;
  font-size: 2.5rem;
  cursor: pointer;
  transition: transform 0.3s ease;
  user-select: none;
}
.heart:hover { transform: scale(1.2); }

/* Position hearts */
#heart1 { top: 20px; left: 20px; }
#heart2 { top: 20px; right: 20px; }
</style>
</head>
<body>
<header>
    <h1>Our Memories Gallery</h1>
</header>

<!-- Hearts -->
<div class="heart" id="heart1">‚ù§Ô∏è</div>
<div class="heart" id="heart2">‚ù§Ô∏è</div>

<div class="container">
  <div class="canvas" id="canvas"></div>
</div>

<script>
const imageUrls = [
"photos/IMG-20250823-WA0002.jpg",
  "photos/IMG-20250823-WA0003.jpg",
  "photos/IMG-20250823-WA0004.jpg",   
  "photos/IMG-20250823-WA0005.jpg",
  "photos/IMG-20250823-WA0006.jpg", 
  "photos/IMG-20250823-WA0007.jpg",
  "photos/IMG-20250823-WA0008.jpg",
  "photos/IMG-20250823-WA0009.jpg",
  "photos/IMG-20250823-WA0010.jpg",
  "photos/IMG-20250823-WA0011.jpg",
  "photos/IMG-20250823-WA0012.jpg",
  "photos/IMG-20250823-WA0013.jpg",
  "photos/IMG-20250823-WA0014.jpg",
  "photos/IMG-20250823-WA0015.jpg",
  "photos/IMG-20250823-WA0016.jpg",
  "photos/IMG-20250823-WA0017.jpg",
  "photos/IMG-20250823-WA0018.jpg",
];

// canvas
const canvas=document.getElementById("canvas");

// grid config
const gap=10;
const cols=5, rows=4;
let offsetX=0, offsetY=0;
let drag=false, lastX=0, lastY=0, vx=0, vy=0;

// define mixed sizes (portrait / landscape)
const sizes=[
  {w:300,h:200}, // landscape
  {w:200,h:300}, // portrait
  {w:250,h:350}, // portrait tall
  {w:350,h:250}  // landscape wide
];

let grid=[];
for(let r=0;r<rows;r++){
  for(let c=0;c<cols;c++){
    const div=document.createElement("div");
    div.className="item";
    const sz=sizes[(r*cols+c)%sizes.length];
    div.dataset.w=sz.w;
    div.dataset.h=sz.h;
    div.style.width=sz.w+"px";
    div.style.height=sz.h+"px";

    const img=document.createElement("img");
    img.src=imageUrls[(r*cols+c)%imageUrls.length];
    div.appendChild(img);

    canvas.appendChild(div);
    grid.push({el:div, r, c, w:sz.w, h:sz.h});
  }
}

// compute grid cell sizes based on max width/height
const cellW=Math.max(...sizes.map(s=>s.w))+gap;
const cellH=Math.max(...sizes.map(s=>s.h))+gap;

// Position items with wrapping
function layout(){
  grid.forEach(({el,r,c,w,h})=>{
    let x=c*cellW+offsetX;
    let y=r*cellH+offsetY;

    const totalW=cols*cellW;
    const totalH=rows*cellH;

    x=((x%totalW)+totalW)%totalW;
    y=((y%totalH)+totalH)%totalH;

    // Center smaller items in their cell
    const offsetCellX=(cellW-w)/2;
    const offsetCellY=(cellH-h)/2;

    el.style.transform=`translate(${x+offsetCellX}px,${y+offsetCellY}px)`;
  });
}

// Dragging
canvas.addEventListener("mousedown",e=>{
  drag=true; lastX=e.clientX; lastY=e.clientY; vx=vy=0;
});
window.addEventListener("mouseup",()=>drag=false);
window.addEventListener("mousemove",e=>{
  if(drag){
    const dx=e.clientX-lastX, dy=e.clientY-lastY;
    offsetX+=dx; offsetY+=dy;
    vx=dx; vy=dy;
    lastX=e.clientX; lastY=e.clientY;
    layout();
  }
});

// inertia
function animate(){
  if(!drag){
    offsetX+=vx; offsetY+=vy;
    vx*=0.95; vy*=0.95;
    if(Math.abs(vx)<0.01) vx=0;
    if(Math.abs(vy)<0.01) vy=0;
    layout();
  }
  requestAnimationFrame(animate);
}
layout(); animate();


// ‚ù§Ô∏è Heart click logic
let clickedHeart1=false;

document.getElementById("heart1").addEventListener("click", ()=>{
  clickedHeart1=true;
  document.getElementById("heart1").style.transform="scale(1.4)";
  setTimeout(()=>{ document.getElementById("heart1").style.transform="scale(1)"; },400);
});

document.getElementById("heart2").addEventListener("click", ()=>{
  if(clickedHeart1){
    // both clicked in order ‚Üí go to poem page
    window.location.href="poem.html";
  } else {
    // reset if wrong order
    clickedHeart1=false;
  }
});
</script>
</body>
</html>
